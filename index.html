<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>lineside@linux: ~</title>

    <style>
        /* --- ぜんぶのスタイル (CSS) --- */

        @import url('https://fonts.googleapis.com/css2?family=Roboto+Mono:wght@400;700&display=swap');

        html { box-sizing: border-box; }
        *, *:before, *:after { box-sizing: inherit; }

        body {
            background-color: #1c1c1c;
            color: #e0e0e0;
            font-family: 'Roboto Mono', 'Consolas', 'Courier New', monospace;
            margin: 0;
            padding: 30px;
            display: flex;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
        }

        /* --- 1. ターミナルの「ウィンドウ」 --- */
        .terminal {
            width: 95%;
            max-width: 1200px;
            height: 80vh; /* たかさ「こてい」 */
            background: #0a0a0a;
            border: 1px solid #444;
            border-radius: 8px;
            box-shadow: 0 10px 35px rgba(0, 0, 0, 0.6);
            display: flex;
            flex-direction: column;
        }

        /* --- 2. ウィンドウのヘッダー --- */
        .terminal-header {
            height: 28px;
            background: #2d2d2d;
            border-radius: 8px 8px 0 0;
            display: flex;
            align-items: center;
            padding: 0 10px;
            flex-shrink: 0; 
        }

        .header-dot { height: 12px; width: 12px; border-radius: 50%; margin: 0 4px; }
        .dot-close { background-color: #ff5f57; }
        .dot-minimize { background-color: #ffbd2e; }
        .dot-maximize { background-color: #28c940; }

        /* --- 3. ターミナルの内容 --- */
        .terminal-body {
            padding: 25px;
            font-size: 14px;
            line-height: 1.6;
            flex-grow: 1; 
            overflow-y: auto;
            cursor: text;
        }
        
        .terminal-body::-webkit-scrollbar { width: 8px; }
        .terminal-body::-webkit-scrollbar-track { background: #222; }
        .terminal-body::-webkit-scrollbar-thumb { background-color: #444; border-radius: 4px; }

        /* --- 4. プロンプトとコマンド --- */
        .line { 
            margin-bottom: 12px; 
            display: flex;
            align-items: baseline;
        }
        .prompt { 
            display: inline-block;
            flex-shrink: 0;
            margin-right: 8px;
        }
        .prompt-user { color: #8ae234; font-weight: 700; }
        .prompt-path { color: #729fcf; font-weight: 700; }
        .prompt-symbol { color: #e0e0e0; font-weight: 700; }
        .command { color: #f0f0f0; }

        /* --- 5. コマンドの「けっか」 --- */
        .output { padding-left: 10px; }
        .output-header { color: #ffeb3b; margin: 20px 0 10px 0; font-weight: 700; }
        
        pre {
            font-family: 'Roboto Mono', 'Consolas', 'Courier New', monospace;
            color: #ad7fa8;
            margin: 10px 0;
            font-weight: 700;
            overflow-x: auto;
            white-space: pre;
        }

        .bio-text { color: #ccc; margin-bottom: 20px; }

        /* --- 6. リンク集 --- */
        .links-list { list-style: none; padding-left: 0; font-size: 13px; }
        .links-list li {
            margin-bottom: 8px;
            display: flex;
            align-items: center;
            white-space: nowrap;
        }
        .file-perms { color: #888; margin-right: 15px; }
        .links-list a {
            color: #00e5ff;
            text-decoration: none;
            margin-right: auto;
            transition: all 0.2s ease;
        }
        .links-list a:hover {
            color: #ffffff;
            background-color: #00e5ff30;
            text-decoration: underline;
        }
        .file-info { color: #aaa; margin-left: 15px; }

        /* さいごの入力まってるカーソル */
        .cursor {
            display: inline-block; width: 8px; height: 16px;
            background-color: #e0e0e0; margin-left: 5px;
            animation: blink 1s step-end infinite;
        }
        @keyframes blink {
            from, to { opacity: 1; }
            50% { opacity: 0; }
        }

        /* ▼▼▼ スマホ用 (レスポンシブ) ▼▼▼ */
        @media (max-width: 600px) {
            body { padding: 10px; }
            .terminal { 
                width: 100%; 
                height: 90vh;
            }
            .terminal-body { padding: 15px; font-size: 13px; }
            pre { font-size: 11px; }
            .links-list li { white-space: normal; }
            .links-list a { margin-right: 15px; }
            .file-info { display: none; }
        }
        /* ▲▲▲ ここまで ▲▲▲ */


        /* ▼▼▼ ほんとうの「入力欄」のスタイル ▼▼▼ */
        .terminal-input {
            background: transparent;
            border: none;
            outline: none;
            color: #f0f0f0;
            font-family: 'Roboto Mono', 'Consolas', 'Courier New', monospace;
            font-size: inherit;
            line-height: inherit;
            padding: 0;
            flex-grow: 1;
            width: auto;
        }
        /* ▲▲▲ ここまで ▲▲▲ */

    </style>
</head>
<body>

    <div class="terminal">
        <div class="terminal-header">
            <span class="header-dot dot-close"></span>
            <span class="header-dot dot-minimize"></span>
            <span class="header-dot dot-maximize"></span>
        </div>

        <div class="terminal-body" id="terminal-body" onclick="document.querySelector('.terminal-input')?.focus()">
            </div>
    </div>

<script>
    // --- ぜんぶのうごき (JavaScript) ---

    const bodyEl = document.getElementById('terminal-body');
    const user = 'lineside';
    const path = ':~$';
    const promptHTML = `<span class="prompt"><span class="prompt-user">${user}@linux</span><span class="prompt-path">${path}</span></span>`;
    
    // ▼▼▼ リンクのURL (ここを先生がなおしてね) ▼▼▼
    const urls = {
        github: 'https://github.com/lineside0418',
        twitter: 'https://x.com/lineside0418',
        blog: 'https://lineside-blog.vercel.app' // ← ここを先生のブログURLに！ (例: 'https://lineside.blog/')
    };
    // ▲▲▲ ここまで ▲▲▲
    
    // スクロールをさいごまでやる
    const scrollToBottom = () => {
        bodyEl.scrollTop = bodyEl.scrollHeight;
    };

    // テキストを1文字ずつ表示する機能
    const typeText = (element, text, delay = 50) => {
        return new Promise(resolve => {
            let i = 0;
            const typing = () => {
                if (i < text.length) {
                    element.innerHTML += text.charAt(i);
                    i++;
                    setTimeout(typing, delay);
                } else {
                    resolve();
                }
            };
            typing();
        });
    };

    // コマンドの行を作る機能 (自動実行用)
    const createCommandLine = async (command, delay = 100) => {
        const line = document.createElement('div');
        line.classList.add('line');
        bodyEl.appendChild(line);
        line.innerHTML = `${promptHTML} <span class="command"></span>`;
        
        const commandSpan = line.querySelector('.command');
        await typeText(commandSpan, command, delay);
        scrollToBottom();
    };

    // 結果の行をそのまま表示する機能
    const createOutput = (htmlContent) => {
        const output = document.createElement('div');
        output.classList.add('output');
        output.innerHTML = htmlContent;
        bodyEl.appendChild(output);
        scrollToBottom();
    };


    // --- ターミナルの起動アニメーション ---
    const bootAnimation = async () => {
        const bootLines = [
            `Linux ${user} 5.15.0-86-generic x86_64`,
            `Starting systemd... [  OK  ]`,
            `Initializing hardware... [  OK  ]`,
            `Loading user modules... [  OK  ]`,
            `Setting up network interfaces... [  OK  ]`,
            `...`,
            `Welcome to lineside's terminal.`,
            `Last login: ${new Date().toLocaleString()} on tty1`
        ];
        bodyEl.innerHTML = '';
        
        for (const line of bootLines) {
            const p = document.createElement('p');
            p.textContent = line;
            bodyEl.appendChild(p);
            scrollToBottom();
            await new Promise(r => setTimeout(r, 80));
        }
        await new Promise(r => setTimeout(r, 500));
    };


    // --- プロフィールを表示する内容 ---
    const profileContent = `
        <pre>
 _ _                 _     _      
| (_)_ __   ___  ___(_) __| | ___ 
| | | '_ \\ / _ \\/ __| |/ _\` |/ _ \\
| | | | | | __/\\__ \\| | (_| |  __/
|_|_|_| |_|\\___||___/_|\\__,_|\\___|
        </pre>
        <h3 class="output-header">--- [ 自己紹介 -About Me- ] ---</h3>
        <p class="bio-text">
            はじめまして、lineside です。<br>
            ゲームとプログラミングが好きな高校生です。
        </p>
        <p class="bio-text">
            普段はTwitterとDiscordに生息しています。返信は気まぐれに。<br>
            ブログを不定期に更新中。興味があればリンクツリーからどうぞ。
        </p>

        <h3 class="output-header">--- [ リンク集 -Links- ] ---</h3>
        <ul class="links-list">
            <li>
                <span class="file-perms">-rw-r--r--</span>
                <a href="https://github.com/lineside0418" target="_blank">github_profile</a>
                <span class="file-info">1.2K  Nov 14 01:00</span>
            </li>
            <li>
                <span class="file-perms">-rw-r--r--</span>
                <a href="https://x.com/lineside0418" target="_blank">x_com (twitter)</a>
                <span class="file-info"> 874B  Nov 12 22:15</span>
            </li>
            <li>
                <span class="file-perms">-rw-r--r--</span>
                <a href="https://lineside-blog.vercel.app" target="_blank">lineside-blog</a>
                <span class="file-info"> 128K  Nov 10 08:30</span>
            </li>
            <li>
                <span class="file-perms">-rw-r--r--</span>
                <a href="#" target="_blank">Profile(this_page)</a>
                <span class="file-info"> 4.5K  Oct 29 17:45</span>
            </li>
        </ul>
    `;

    // --- helpコマンドの内容 (コマンドふやしたよ) ---
    const helpContent = `
        <p>Available commands:</p>
        <ul>
            <li><span style="color: #00e5ff;">./show_profile.sh</span> (or <span style="color: #00e5ff;">profile</span>) - Show profile information</li>
            <li><span style="color: #00e5ff;">github</span> / <span style="color: #00e5ff;">twitter</span> (or <span style="color: #00e5ff;">x</span>) / <span style="color: #00e5ff;">blog</span> - Open links</li>
            <li><span style="color: #00e5ff;">whoami</span>              - Show current user</li>
            <li><span style="color: #00e5ff;">date</span>                - Show current date and time</li>
            <li><span style="color: #00e5ff;">reload</span>              - Reload this page</li>
            <li><span style="color: #00e5ff;">clear</span>               - Clear the terminal screen</li>
            <li><span style="color: #00e5ff;">matrix</span>              - ...?</li>
        </ul>
    `;

    // --- イースターエッグ (matrix) ---
    const runMatrixAnimation = () => {
        return new Promise(resolve => {
            bodyEl.innerHTML = ''; // ぜんぶけす
            bodyEl.style.color = '#0f0'; // みどり
            bodyEl.style.lineHeight = '1.2';
            bodyEl.style.overflow = 'hidden'; // アニメ中だけスクロールバーをかくす

            const chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789';
            
            const interval = setInterval(() => {
                const p = document.createElement('p');
                p.style.margin = '0';
                
                let line = '';
                for (let i = 0; i < 70; i++) {
                    line += chars[Math.floor(Math.random() * chars.length)];
                }
                p.textContent = line;
                
                bodyEl.appendChild(p);
                
                if (bodyEl.children.length > 50) { 
                    bodyEl.removeChild(bodyEl.firstChild);
                }
                scrollToBottom();
            }, 100);

            // 3秒後にアニメーションをおわらせる
            setTimeout(() => {
                clearInterval(interval);
                bodyEl.innerHTML = '';
                bodyEl.style.color = '';
                bodyEl.style.lineHeight = '';
                bodyEl.style.overflow = 'auto';
                resolve();
            }, 3000);
        });
    };

    // --- ほんとうの「入力」をあつかうところ ---

    // 1. 新しい「入力」の行を作る
    const createNewPrompt = () => {
        const line = document.createElement('div');
        line.classList.add('line');
        
        line.innerHTML = `
            ${promptHTML}
            <input type="text" class="terminal-input" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" />
        `;
        
        bodyEl.appendChild(line);
        
        const input = line.querySelector('.terminal-input');
        input.addEventListener('keydown', handleCommand);
        
        input.focus();
        scrollToBottom();
    };

    // 2. 「Enterキー」がおされたときの動き (ここをぜんぶかえたよ！)
    const handleCommand = async (e) => {
        if (e.key !== 'Enter') {
            return;
        }
        
        e.preventDefault();
        
        const input = e.target;
        const command = input.value.trim();
        const cmdLower = command.toLowerCase();
        
        // いまの行を「入力ずみ」のかたちに書き換える
        const parentLine = input.parentElement;
        parentLine.innerHTML = `${promptHTML} <span class="command">${command}</span>`;
        
        // 3. コマンドによって、やることを変える
        switch (cmdLower) {
            case 'clear':
                bodyEl.innerHTML = '';
                break;
                
            case './show_profile.sh':
            case 'profile':
                createOutput(profileContent);
                break;
                
            case 'help':
                createOutput(helpContent);
                break;

            case 'matrix':
                await runMatrixAnimation();
                break;
            
            // --- ▼▼▼ 新しいコマンド ▼▼▼ ---
            case 'x':
            case 'twitter':
                createOutput(`Navigating to Twitter (${urls.twitter})...`);
                window.open(urls.twitter, '_blank');
                break;
            
            case 'github':
                createOutput(`Navigating to GitHub (${urls.github})...`);
                window.open(urls.github, '_blank');
                break;
                
            case 'blog':
                if (urls.blog === '#') {
                    createOutput(`<span style="color: #ffbd2e;">Warning: Blog URL is not set.</span><br>Please ask lineside to edit the 'urls' variable in index.html.`);
                } else {
                    createOutput(`Navigating to Blog (${urls.blog})...`);
                    window.open(urls.blog, '_blank');
                }
                break;

            case 'whoami':
                createOutput(user);
                break;
                
            case 'date':
                createOutput(new Date().toLocaleString());
                break;
                
            case 'reload':
                createOutput('Reloading terminal...');
                setTimeout(() => location.reload(), 1000);
                return; // これいかがだいじ！
            // --- ▲▲▲ ここまで ▲▲▲ ---
                
            case '':
                break;
                
            default:
                createOutput(`<span style="color: #ff5f57;">command not found: ${command}</span><br>Type 'help' for available commands.`);
        }
        
        // 4. ぜんぶ終わったら、また新しい「入力」の行を作る
        // (reload 以外)
        createNewPrompt();
    };


    // --- メインの実行 ---
    const main = async () => {
        // 1. 起動アニメーション
        await bootAnimation();
        
        // 2. clearコマンドを自動入力
        await createCommandLine('clear', 100); 
        await new Promise(r => setTimeout(r, 200)); 
        
        // 3. 画面をクリア (中身を消す)
        bodyEl.innerHTML = '';
        
        // 4. ロードメッセージを表示
        const loadingMessage = document.createElement('p');
        loadingMessage.innerHTML = `<span style="color: #ff9900;">Loading...</span>`;
        bodyEl.appendChild(loadingMessage);
        scrollToBottom();
        
        // 5. ロード時間 (1.5秒待つ)
        await new Promise(r => setTimeout(r, 1500));
        
        bodyEl.innerHTML = ''; // ロードメッセージを消す
        
        // 6. コマンドを自動で入力 (1文字0.1秒)
        await createCommandLine('./show_profile.sh', 100);
        
        // 7. Enterを押したあとの間 (0.5秒)
        await new Promise(r => setTimeout(r, 500));
        
        // 8. 結果を一度に表示
        createOutput(profileContent);
        
        // 9. さいしょの「ほんとうの入力」の行を作る
        await new Promise(r => setTimeout(r, 300));
        createNewPrompt();
    };

    // ページが開いたら、メインを実行する
    window.onload = main;
    
</script>

</body>
</html>